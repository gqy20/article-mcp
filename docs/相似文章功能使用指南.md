# 相似文章功能使用指南

## 功能概述

新增的 `get_similar_articles` 工具基于 PubMed 官方的相关文章算法，可以根据给定的 DOI 查找相似或相关的学术文章。

## 功能特点

✨ **智能算法**：基于 PubMed 官方的相关文章算法  
🕐 **时间过滤**：自动过滤最近 5 年内的文献  
📊 **批量获取**：一次性获取多篇相关文章的详细信息  
🛡️ **错误处理**：完整的错误处理机制  
⚡ **高性能**：约 8-10 秒完成查询和详情获取  

## 使用方法

### 基本用法
```json
{
  "tool": "get_similar_articles",
  "parameters": {
    "doi": "10.1126/science.adf6218"
  }
}
```

### 完整参数
```json
{
  "tool": "get_similar_articles",
  "parameters": {
    "doi": "10.1126/science.adf6218",
    "email": "your-email@example.com",
    "max_results": 15
  }
}
```

## 参数说明

| 参数 | 类型 | 必需 | 默认值 | 说明 |
|------|------|------|--------|------|
| `doi` | string | 是 | - | 数字对象标识符（如："10.1126/science.adf6218"） |
| `email` | string | 否 | "user@example.com" | 联系邮箱，用于获得更高的API访问限制 |
| `max_results` | int | 否 | 20 | 返回的最大相似文章数量 |

## 返回结果

### 成功返回
```json
{
  "original_article": {
    "title": "文章标题",
    "authors": ["作者1", "作者2"],
    "journal": "期刊名称",
    "publication_date": "2023-09-29",
    "pmid": "37769091",
    "pmcid": "PMC123456",
    "pmid_link": "https://pubmed.ncbi.nlm.nih.gov/37769091/",
    "pmcid_link": "https://www.ncbi.nlm.nih.gov/pmc/articles/PMC123456/",
    "abstract": "摘要内容"
  },
  "similar_articles": [
    {
      "title": "相关文章标题",
      "authors": ["作者1", "作者2"],
      "journal": "期刊名称",
      "publication_date": "2023-10-15",
      "pmid": "39388551",
      "pmcid": null,
      "pmid_link": "https://pubmed.ncbi.nlm.nih.gov/39388551/",
      "pmcid_link": null,
      "abstract": "摘要内容"
    }
  ],
  "total_similar_count": 21,
  "retrieved_count": 10,
  "message": "成功找到并获取了 10 篇相关文章"
}
```

### 错误返回
```json
{
  "original_article": null,
  "similar_articles": [],
  "total_similar_count": 0,
  "retrieved_count": 0,
  "error": "DOI不能为空"
}
```

## 使用场景

### 1. 文献综述研究
查找与特定研究主题相关的最新文献，为综述撰写提供参考。

### 2. 寻找相关研究
发现与当前研究方向相关的其他研究，了解领域发展趋势。

### 3. 学术调研
快速获取某个研究领域的相关文献，进行深入的学术调研。

### 4. 相关工作分析
分析与特定论文相关的其他研究工作，了解研究现状。

## 性能特点

- **查询速度**：约 8-10 秒完成完整查询
- **时间范围**：自动过滤最近 5 年内的文献
- **结果数量**：支持 1-100 篇相似文章获取
- **数据完整性**：包含标题、作者、期刊、日期、摘要等完整信息

## 注意事项

1. **DOI 格式**：确保提供的 DOI 格式正确（如：10.1126/science.adf6218）
2. **邮箱地址**：提供有效邮箱地址可获得更高的 API 访问限制
3. **结果数量**：实际获取的文章数量可能少于 `max_results`，这是正常现象
4. **时间过滤**：只返回最近 5 年内发表的相关文章

## 技术实现

该功能使用以下技术：
- **NCBI E-utils API**：利用 PubMed 官方 API
- **eSearch**：通过 DOI 查找初始文章
- **eLink**：使用官方相关文章算法
- **eFetch**：批量获取文章详细信息
- **日期过滤**：自动应用时间范围过滤

## 示例用法

假设你想查找与达尔文雀基因组研究相关的文章：

```json
{
  "tool": "get_similar_articles",
  "parameters": {
    "doi": "10.1126/science.adf6218",
    "email": "researcher@university.edu",
    "max_results": 15
  }
}
```

这将返回与该研究相关的最多 15 篇文章，包括原始文章信息和相似文章列表。

## 集成到工作流

该工具可以与其他 MCP 工具组合使用：
1. 使用 `search_europe_pmc` 搜索感兴趣的文章
2. 使用 `get_similar_articles` 查找相关文章
3. 使用 `get_references_by_doi` 获取参考文献
4. 使用 `batch_enrich_references_by_dois` 批量补全信息

---

*该功能基于 PubMed 官方 API 实现，遵循 NCBI 的使用条款和速率限制。* 